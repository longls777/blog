---
title: 常用命令记录
tags: 
categories: Others
date: 2022-07-03 9:45:00
index_img: 
banner_img: 
math: true
---

## Linux

查看显卡信息

`lspci | grep -i vga`

Nvidia查看显存占用情况

`nvidia-smi`

`nvidia-smi -a`

`nvidia-smi -l 5`

`watch -n 0.1 nvidia-smi`

指定GPU

`nvidia-smi -i 0`

> 详细信息https://blog.csdn.net/qq_25562325/article/details/120369929
>
> Fan:风扇转速（0%-100%），N/A表示没有风扇
> 		Temp：GPU温度（GPU温度过高会导致GPU频率下降）
> 		Perf：性能状态，从P0（最大性能）到P12（最小性能）
> 		Pwr：GPU功耗
> 		Persistence-M：持续模式状态（持续模式耗能大，但在新的GPU应用启动时花费时间更少） 
> 		persistence mode 持续模式默认关闭。persistence mode 能够让 GPU 更快响应任务，待机功耗增加。关闭 persistence mode 同样能够启动任务。
> 		Bus-Id：GPU总线，00000000:37:00.0
> 		Disp.A：Display Active,表示GPU是否初始化
> 		Memory-Usage：显存使用率
> 		Volatile GPU-UTil：GPU使用率，与显存使用率的区别可参考显存与GPU
> 		ECC：是否开启错误检查和纠错技术，0/DISABLED，1/ENABLED
> 		Compute M：计算模式

查看CPU信息

`cat /proc/cpuinfo`

查看各用户磁盘使用情况（需要sudo权限）

`sudo du -sh /home/*`

## conda

查看环境信息

`conda info --envs`

新建环境

`conda create -n xxx python==x.x.x`

启动环境

`conda activate xxx`

查看当前环境下包版本

`conda list`

查看当前环境下的python解释器路径

`which python`

搜索包

`conda search xxx`

复制环境

`conda create -n newEnv --clone oldEnv`

删除环境

`conda remove -n xxx --all`

##### 镜像源管理

删除所有并恢复默认的conda源

`conda config --remove-key channels`

## tmux

> https://blog.csdn.net/Aibiabcheng/article/details/122482786

进入tmux

`tmux`

退出tmux

`Ctrl+d` 或者 `exit`

新建会话

`tmux new -s <session-name>`

分离会话

`Ctrl+b d` 或者 `tmux detach`

查看所有会话

`tmux ls`

接入会话

`tmux attach -t 0` 

`tmux attach -t <session-name>`

杀死会话

`tmux kill-session -t 0` 

`tmux kill-session -t <session-name>` 

切换会话

`tmux switch -t 0`

`tmux switch -t <session-name>`

## hexo

清空缓存

`hexo clean`

生成

`hexo g`

本地服务器启动

`hexo s`

部署(到github page)

`hexo d`

新建文章

`hexo new  "postName"`

## PIP

查看pip安装的包的路径

`pip show 包名`

pip安装时指定镜像源

`pip install xxx -i https://pypi.tuna.tsinghua.edu.cn/simple`

pip安装文本文件下的所有包

`pip install -r requirements.txt`

cd到一个包内安装

`pip install -e .`

安装指定版本

`pip install xxx==x.x.x`

## ssh

使用ssh连接远程主机，默认22端口

`ssh user@hostname`

指定端口号

`ssh -p port user@hostname`

## jupyter 

查看 jupyter 可用内核

`jupyter kernelspec list`

让 jupyter 后台运行

`nohup jupyter notebook --allow-root > jupyterlab.log 2>&1 &`

找出包含 jupyter 的进程

`ps -aux | grep jupyter`

找到 jupyter 相关的进程， 一般情况下第二列就是pid

`kill -9 id`

> https://zhuanlan.zhihu.com/p/508764623