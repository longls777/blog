---
title: 敏感词过滤算法
tags: 
categories: Practice
date: 2023-04-09 21:46:00
index_img: http://longls777.oss-cn-beijing.aliyuncs.com/img/6fc07f9c1d0bc1fd05d6419d1a0f3609.png
banner_img: http://longls777.oss-cn-beijing.aliyuncs.com/img/6fc07f9c1d0bc1fd05d6419d1a0f3609.png
---

敏感词过滤用的使用比较多的有 **Trie 树算法** 和 **DFA 算法**

## Trie树算法

**Trie 树** 也称为字典树、单词查找树，前缀树，通常被用于字符串匹配，用来解决在一组字符串集合中快速查找某个字符串的问题。**Trie 树的核心原理其实很简单，就是通过公共前缀来提高字符串匹配效率**

![img](http://longls777.oss-cn-beijing.aliyuncs.com/img/6fc07f9c1d0bc1fd05d6419d1a0f3609.png)

Trie树的特点：

1. 根节点不包含字符，除根节点外每一个节点都只包含一个字符。
2. 从根节点到某一节点，路径上经过的字符连接起来，为该节点对应的字符串。
3. 每个节点的所有子节点包含的字符都不相同。

**Tire树是一种空间换时间的数据结构，查询效率极高但占用内存也高**

## DFA 算法

**DFA**（Deterministic Finite Automata)即确定有穷自动机，与之对应的是 NFA（Non-Deterministic Finite Automata，不确定有穷自动机)。

有一个有限状态集合和一些从一个状态通向另一个状态的边，每条边上标记有一个符号，其中一个状态是初态，某些状态是终态。但不同于不确定的有限自动机，DFA中不会有从同一状态出发的两条边标志有相同的符号。

敏感词过滤很适合用DFA算法，用户每次输入都是状态的切换，如果出现敏感词，既是终态，就可以结束判断。

我们把数组形式的敏感词整理为一个树状结构，准确的说是一个森林。

这样查找敏感词就变成了一个查找路径的问题，如果用户输入的内容中包含一个从根节点到叶子节点的完整路径，就说明包含敏感词。

## 两者对比（来自chatGPT）

DFA算法的优点包括：

1. **精准度高**：DFA算法匹配的结果一定是准确的，不会出现漏匹配或误匹配的情况。
2. **匹配速度快**：DFA算法匹配的速度非常快，适合处理大量数据。
3. **占用空间小**：DFA算法只需要存储有限个状态，占用空间相对较小。

DFA算法的缺点包括：

1. **实现复杂**：DFA算法的实现比较复杂，需要考虑状态转移等问题。
2. **空间限制**：如果要匹配的字符串比较长，DFA算法需要存储的状态数会非常庞大，可能会占用过多的内存空间。

Trie树算法的优点包括：

1. **实现简单**：Trie树算法的实现比较简单，只需要存储字符串的前缀即可。
2. **支持前缀匹配**：Trie树算法可以支持前缀匹配，适合查询以某个字符串为前缀的所有字符串。

Trie树算法的缺点包括：

1. **空间浪费**：Trie树算法需要占用大量的空间来存储字符串的前缀，对于一些长字符串来说，会浪费很多空间。
2. **匹配效率较低**：Trie树算法在匹配过程中需要遍历整个字符串，匹配效率比DFA算法略低。

综上所述，DFA算法适合处理大量数据的匹配问题，而Trie树算法适合处理前缀匹配问题。在实际应用中需要根据具体情况选择合适的算法



> https://javaguide.cn/system-design/security/sentive-words-filter.html#dfa
>
> https://blog.csdn.net/qq_37753580/article/details/83182128
>
> https://zhuanlan.zhihu.com/p/505941559